<!DOCTYPE html>
<html lang="en">

<head>
    <title></title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        #banner {
            position: relative;
            width: 400px;
            height: 400px;
            margin: auto;
            overflow: hidden;
        }
        
        #image-slider {
            position: relative;
            width: 1600px;
            height: 400px;
            padding: 0;
            margin: 0;
            transition: transform 0.3s ease;
        }
        
        li {
            list-style: none;
            float: left
        }
        
        img {
            width: 400px;
            height: 400px;
        }
    </style>
</head>

<body>
    <div id='banner'>
        <ul id='image-slider'>
            <li>
                <img src='./1.jpeg' />
            </li>
            <li>
                <img src='./2.jpg' />
            </li>
            <li>
                <img src='./3.jpg' />
            </li>
            <li>
                <img src='./1.jpeg' />
            </li>
        </ul>
    </div>
    <script>
        var imageSlider = document.getElementById('image-slider')
        init(imageSlider, 4, 2000, 0.3)

        function init(imageSlider, imageNum, delayTime, transitionDuration) {
            let index = 0;
            imageSlider.style.transitionDuration = transitionDuration + 's'
            setInterval(function() {
                index = index >= imageNum - 1 ? 0 : index + 1;
                console.log(index)
                turnLeft(imageSlider, imageNum, index, transitionDuration)
                if (index === imageNum - 1) {
                    index = 0
                }
            }, delayTime)
        }

        function turnLeft(imageSlider, imageNum, index, transitionDuration) {
            console.log(index)
            console.log(imageNum)
            let pix = index * -400;
            console.log(pix)
            console.log(transitionDuration)
            if (index === 3) {
                imageSlider.style.transform = 'translate3d(' + pix + 'px, 0, 0)'
                console.log(imageSlider.style)
                setTimeout(function() {
                    imageSlider.style.transitionDuration = '0s'
                    imageSlider.style.transform = 'translate3d(' + 0 + 'px, 0, 0)'
                    setTimeout(function() {
                        imageSlider.style.transitionDuration = transitionDuration + 's'
                    }, transitionDuration * 1000 / 3)
                }, transitionDuration * 800)
                return
            }
            imageSlider.style.transform = 'translate3d(' + pix + 'px, 0, 0)'
        }
    </script>
</body>

</html>